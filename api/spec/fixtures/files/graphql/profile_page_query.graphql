query ProfilePageQuery($username: ID!) {
  viewer {
    username
    __typename
  }
  user: userByUsername(username: $username) {
    username
    articlesConnection {
      edges {
        node {
          ...ArticlePreviewArticleFragment
          __typename
        }
        __typename
      }
      __typename
    }
    ...UserInfoUserFragment
    __typename
  }
}

fragment ArticlePreviewArticleFragment on Article {
  createdAt
  description
  favoritesCount
  slug
  title
  viewerDidFavorite
  canFavorite {
    value
    __typename
  }
  canUnfavorite {
    value
    __typename
  }
  author {
    username
    profile {
      imageUrl
      __typename
    }
    __typename
  }
  ...ArticlePreviewTagListArticleFragment
  __typename
}

fragment ArticlePreviewTagListArticleFragment on Article {
  tags {
    id
    name
    __typename
  }
  __typename
}

fragment UserInfoUserFragment on User {
  username
  canUpdate {
    value
    __typename
  }
  profile {
    imageUrl
    bio
    __typename
  }
  ...FollowUserButtonUserFragment
  __typename
}

fragment FollowUserButtonUserFragment on User {
  username
  viewerIsFollowing
  followersCount
  canFollow {
    value
    __typename
  }
  canUnfollow {
    value
    __typename
  }
  __typename
}
